---
node_id: 3609
title: 'Peak Season Prep Guide: Preparing your Ecommerce Site for the Next Big Rush'
type: whitepaper
created_date: '2013-07-09'
created_by: Rackspace Support
last_modified_date: '2015-07-21'
last_modified_by: Max Francisco
product: White Paper
product_url: white-paper
resource: 'https://8026b2e3760e2433679c-fffceaebb8c6ee053c935e8915a3fbe7.ssl.cf2.rackcdn.com/whitepaper_pdf/Rackspace_Peak_Season_Prep_2014_update.pdf'
---

<h3><strong>Introdução</strong></h3>

<p>A maioria dos comerciantes conhece bem a temporada de festas. Em lojas físicas, é a época do ano em que há mais contratações para garantir que rostos sorridentes na loja ajudem clientes ansiosos e para que haja caixas suficientes para fechar pedidos rapidamente e sem problemas. Para os varejistas de comércio eletrônico, preparar-se para o pico de tráfego não se trata de contratar mais pessoas, e sim ajustar sistemas e processos que trazem, mantêm e permitem que os clientes façam transações facilmente em um site.</p>

<p>Atrasos no carregamento de páginas não apenas frustram os usuários: agora <a href="http://googlewebmastercentral.blogspot.co.uk/2010/04/using-site-speed-in-web-search-ranking.html">os algoritmos de pesquisa do Google</a> também penalizam os sites por carregamentos lentos. Veja, por exemplo, o período de festas de final de ano, onde as vendas têm começado mais cedo a cada ano, com alguns varejistas oferecendo promoções em outubro e começo de novembro. De acordo com uma pesquisa de 2013 da Shop.org com compradores, mais de 40% dos entrevistados disseram ter começado as compras em outubro ou antes. Somadas ao crescimento geral das vendas on-line, essas estatísticas aumentam a necessidade de uma estratégia bem planejada de comércio eletrônico, tanto no lado voltado para o cliente quanto na infraestrutura subjacente do varejista.</p>

<p>A preparação para um período de pico – sejam férias, turismo de verão ou campanha de marketing de longo alcance – envolve a avaliação da infraestrutura e de códigos para otimizar a obtenção de resultados melhores. O fundamental do planejamento de pico de tráfego é testar rigorosamente a capacidade de carregamento de seu sistema previamente para identificar e corrigir pontos de interrupção e congestionamentos.</p>

<h3><strong>1. Teste seu site antes de aumentos repentinos de tráfego</strong></h3>

<p>Testes de carregamento dão uma amostra de como seu site irá funcionar no momento do pico de tráfego. Abaixo, as etapas de alto nível envolvidas em testes de carregamento.</p>

<ol start="1">
	<li><strong>Estabeleça os objetivos do teste:</strong> o teste inicial deve ser um teste completo de ponta a ponta. Os testes seguintes só podem incidir sobre testes de pós-otimização de páginas ou processos específicos. Além disso, tenha em mente que diferentes tipos de usuários utilizam o seu site de forma diferente. O tipo "comprador de computador" pode ser dividido em segmentos como consumidores, empresas e governo. O usuário consumidor realiza, teoricamente, um caminho diferente do que um usuário do governo; portanto, é uma carga diferente no sistema que precisa de otimização. Ao definir rigorosamente os objetivos do teste e tipos de usuário, você obtém resultados mais definidos para orientar a otimização. Use seus objetivos para criar uma lista de perguntas que seu teste precisa responder, por exemplo:<br />
	<br />
	• Com quantas solicitações simultâneas meu sistema pode lidar em carga máxima?<br />
	• Os tempos de resposta para todos os caminhos de teste são aceitáveis?<br />
	• Quais pontos da cadeia estão consumindo mais recursos de hardware?<br />
	• Há falhas óbvias causadas por grandes conjuntos de dados, múltiplos usuários simultâneos, quantidade de produtos no site, funcionalidade do carrinho de compras ou outros fatores?<br />
	• Existe algum fator acessível óbvio para otimizar? Por exemplo: consultas de dados desnecessárias, caminhos de código usados ​​com frequência que produzem resultado consistente ou consultas a banco de dados repetidas constantemente que podem ser armazenadas em cache.</li>
</ol>

<ol start="2">
	<li><strong>Inicie com um teste de referência:</strong> revise registros e análises para ver como foi seu desempenho durante os períodos de pico anteriores e determine como é um carregamento ativo típico. Use ferramentas como apache bench ou autobench para simular vários usuários simultâneos para um valor de referência de quantos pedidos por segundo você é capaz de atender. Preste atenção especial a páginas com tráfego intenso, como a página inicial e páginas de destino, em que os esforços de otimização têm maior retorno. Para comparar o seu desempenho e estabelecer padrões de referência alinhados com outros varejistas, dê uma olhada em <a href="http://www.compuware.com/en_us/application-performance-management/Benchmarks/US/Retail/us-retail-web---mobile-site-performance-indices.html.html">índice de desempenho de sites de varejo da web e para dispositivos móveis da Compuware</a>.<br />
	<br />
	&nbsp;</li>
	<li><strong>Determine os métodos de coleta de dados:</strong> a coleta de dados organizada é essencial para compreender os resultados e aprender com eles.&nbsp;<a href="http://www.wilsonmar.com/1loadrun.htm">LoadRunner</a> é uma ferramenta de software que fornece formatação, flexibilidade e análise sofisticadas. <a href="http://msdn.microsoft.com/en-us/library/ms182600%28v%3Dvs.90%29.aspx">Microsoft Visual Studio</a> tem um script SQL para a criação de um repositório de dados para obter resultados. Avalie um instrumento de coleta de dados de teste em potencial com base na capacidade desse instrumento para:<br />
	<br />
	• Documentar completamente as condições de teste<br />
	• Documentar com precisão os resultados<br />
	• Oferecer uma análise simplificada dos resultados<br />
	• Arquivar dados de teste para futuras comparações<br />
	Use um conjunto de ferramentas de monitoramento para obter dados precisos sobre o desempenho real do teste em gráficos visuais simples:<br />
	•&nbsp;<a href="http://www.cacti.net/">Cacti</a> para coletar métricas<br />
	•&nbsp;<a href="https://www.webyog.com/product/monyog">MONyog</a> para monitorar bancos de dados<br />
	•&nbsp;<a href="https://github.com/etsy/statsd/#statsd-">statsd</a> para colocar o registro de estatísticas em código e monitorar o desempenho de código em tempo real</li>
</ol>

<ol start="4">
	<li><strong>Crie scripts:</strong> scripts geram dados de teste e simulam a interação do usuário. Os scripts inundam o site com pedidos para que você possa identificar congestionamentos que ocorrem apenas durante os períodos de tráfego pesado. Será feito um script para cada caminho de teste, cookies e todo o restante.&nbsp;<a href="http://jmeter.apache.org/">JMeter</a> é um software de código aberto para teste de carregamento projetado para carregar comportamentos funcionais de teste e medir o desempenho. Scripts JMeter são fáceis de fazer em modelos, e podem ser copiados e colados para criar novos. Scripts comuns incluem:<br />
	<br />
	• Crie produtos aleatoriamente<br />
	• Crie pedidos aleatoriamente (encha o carrinho e feche o pedido)<br />
	• Crie aleatoriamente contas de clientes (é possível combinar isso com a criação de um script de pedido)<br />
	• Faça mudanças na interface de administração (criação de categorias, alterações de configuração)<br />
	Esses scripts serão executados individual e simultaneamente para encontrar limites de desempenho.</li>
</ol>

<ol start="5">
	<li><strong>Estabeleça o ambiente de teste:</strong> na prática, o ambiente de teste de carga contém:<br />
	<br />
	• Ferramentas de software para o envio de várias solicitações<br />
	• Scripts para simular a atividade do usuário no site<br />
	• Scripts para gerar grandes quantidades de dados no sistema<br />
	• Hardware para administrar ferramentas<br />
	• Planilhas para acompanhar e analisar resultados<br />
	<br />
	O teste pode durar dias e usar recursos valiosos. O teste de carga é uma forma muito comum de evitar o uso recursos adicionais para executar testes ou a deterioração de outras aplicações durante o teste. Usar a nuvem para testes significa que você pode executar os recursos de CPU conforme necessário em testes durante o tempo que precisar e, em seguida, desfazer esses recursos quando os testes forem concluídos.</li>
</ol>

<ol start="6">
	<li><strong>Execute os testes:</strong> como a execução de testes pode ser muito demorada, obtenha o máximo de informações possíveis de cada teste para evitar repetição. Para fazer isso, crie uma planilha com as seguintes informações:<br />
	<br />
	• Nome da pessoa que executa o teste<br />
	• Data, horário e duração da execução<br />
	• Uma hipótese claramente definida<br />
	• Uma declaração de o que foi alterado<br />
	• Um conjunto de métricas acompanhadas durante o teste<br />
	• A coleta dos resultados das métricas após a execução, que são mais bem visualizadas com um gráfico das métricas ao longo do tempo<br />
	<br />
	Ao salvar essas informações em planilhas, você alcança resultados demonstráveis ​​e pode identificar os testes mais eficazes.<br />
	<br />
	Ao final do teste, você deve ter um conjunto de dados que responde as perguntas estabelecidas quando os objetivos foram definidos no início. Em seguida, as respostas irão orientar seus próximos passos para otimização. Depois de otimizar, é fundamental testar novamente a fim de esclarecer quaisquer anomalias que a otimização possa criar, pois a resolução de um problema às vezes pode criar outro que você não quer descobrir quando estiver em meio a um pico.</li>
</ol>

<h3><strong>2. Soluções para problemas comuns descobertos pelo teste</strong></h3>

<p><strong>NECESSIDADE DE LOAD BALANCING</strong></p>

<p>Se os relatórios de tráfego do site revelam aumento no número de conexões recusadas durante o teste de carga, é hora de reavaliar a sua solução de load balancing. Conexões recusadas são o primeiro sinal de que a sua capacidade de atendimento é muito pequena para a quantidade de tráfego que o site recebe. O próximo sinal provavelmente será chamadas ou mensagens de visitantes reclamando que não podem acessar ou realizar transações em seu site.</p>

<p>O número de load balancers que você implementa é determinado por seu tráfego e metas de desempenho. Não há fórmula mágica. Usar os dados do teste de carga irá ajudá-lo a determinar o número e a localização dos load balancers. Uma vez estabelecido, refaça o teste para confirmar que o load balancer pode suportar a carga esperada.</p>

<p><strong>NECESSIDADE DE MELHOR COMPRESSÃO</strong><br />
Implementar a compressão de lado do servidor pode reduzir o tamanho de suas páginas de lojas, diminuindo o tempo para retornar dados do servidor e tornando o processo do servidor web disponível mais rapidamente. A maioria dos navegadores e servidores web modernos é capaz de comprimir os dados para enviar e descomprimir no destino. Isso ajuda a diminuir a exigência de banda larga, mas pode aumentar as cargas de CPU.</p>

<p>Arquivos menores resultam em tempos de carregamento de página mais rápidos. As duas opções mais comuns neste caso são minimizar CSS e JavaScript removendo o espaço em branco e aumentando a legibilidade (com o uso de ferramentas como <a href="http://www.refresh-sf.com/yui/">YUI Compressor</a>) e reduzir o tamanho de suas imagens por meio da remoção de dados desnecessários com uma ferramenta como a <a href="http://www.smushit.com/ysmush.it/">smush.it</a>.</p>

<p><strong>NECESSIDADE DE UMA REDE DE FORNECIMENTO DE CONTEÚDO (CDN)</strong><br />
Usar uma CDN pode ajudar a acelerar o carregamento lento de páginas. Em uma CDN, a primeira vez que o conteúdo é servido a um usuário, uma cópia do conteúdo é armazenada em servidores de borda geograficamente mais próximos ao usuário. As solicitações posteriores usam a cópia armazenada, resultando em tempo de carregamento mais rápido. A hospedagem de páginas de destino ou outras páginas estáticas de tráfego intenso na CDN ajuda a manter uma presença persistente e consistente na web. Na medida em que mais pessoas visitam seu site, sua página de destino será armazenada em todo o mundo e, como resultado, os tempos de carregamento irão melhorar.</p>

<p>A publicação de conteúdo estático para uma CDN em vez de servidor web pode ser facilmente obtida com serviços como <a href="http://www.rackspace.com/pt/cloud/files/">Rackspace Cloud Files</a>, criado com tecnologia de CDN da Akamai. W3 Total Cache e PressFlow também têm tecnologia de CDN integrada.</p>

<p><strong>NECESSIDADE DE CÓDIGOS MAIS EFICIENTES</strong><br />
Há muitos serviços associados com comércio eletrônico e mídias sociais que podem fornecer códigos para você colocar em todo o site ou em páginas específicas. Esses trechos de código, usados para compartilhamento social, análise, widgets, entre outros, são HTML/JavaScript. Muitos usam solicitações externas para o terceiro, que atrasam e não podem ser armazenados em cache em sua extremidade. Sempre que possível, opte por soluções para elementos de página comuns que evitem códigos de terceiros. Outra solução comum para o problemático JavaScript é carregar o código em documento pronto (quando o DOM estiver totalmente carregado), em vez de incluí-lo em sua marcação diretamente.</p>

<p>Sites com bancos de dados pesados podem se beneficiar de otimizações de banco de dados, como alterações de esquema e indexação de colunas consultadas com frequência. Evite o uso de estruturas e bibliotecas infladas.</p>

<p><strong>NECESSIDADE DE CACHE PARA A PÁGINA INTEIRA</strong><br />
Caching é uma maneira fácil de acelerar sua aplicação ou site que pode ajudar com sua taxa de rejeição, poupando-o de potencial perda de receita. Determine os dados que você acessa frequentemente e armazene-os na memória para ter acesso de alta velocidade repetido a esses dados. Se sua aplicação estiver gerando conteúdo estático para páginas web ou armazenando sessões em caches, você tem de decidir como armazenar os caches. Você pode armazená-los em seu sistema de arquivos local ou utilizar caches de memória distribuída, como clusters memcached.</p>

<p><strong>NECESSIDADE DE AUTOEXPANSÃO</strong><br />
Apesar dos esforços de planejamento, seu site ainda é capaz de passar por picos fora da capacidade máxima esperada. Por exemplo, um site pode funcionar normalmente em dois servidores e, ocasionalmente, o aumento repentino de tráfego exigir um terceiro servidor. Se esse aumento for previsível, sua equipe pode sair na frente para configurar o servidor extra e encerrá-lo quando não for mais necessário.</p>

<p>Se esse pico for imprevisível, você pode ser forçado a manter um terceiro servidor para cobrir o aumento quando, ou se, isso acontecer. Com uma ferramenta de autoexpansão, como a parceira do catálogo de soluções para nuvem da Rackspace, <a href="https://cloudtools.rackspace.com/apps/263?1078639940">RightScale</a>, não é necessário manter o terceiro servidor. Mediante a configuração de tráfego, desempenho ou outras variáveis​​, o terceiro servidor é iniciado apenas quando necessário e automaticamente encerrado quando os parâmetros de lançamento diminuírem. Veja mais ferramentas de autoexpansão no <a href="https://cloudtools.rackspace.com/home">Catálogo de soluções para nuvem da Rackspace</a>.</p>

<p><strong>NECESSIDADE DE UMA NUVEM HÍBRIDA</strong><br />
Muitos ainda pensam que, se não podem usar a nuvem completa, não podem usar nada da nuvem. Não é assim. Uma configuração de nuvem híbrida permite que você compre a base e alugue o pico. Agora você é capaz de colocar os elementos no lugar que precisa para administrar seu site com a capacidade de transferir para a nuvem em caso de aumento repentino de tráfego ou expandir a funcionalidade sem refazer a arquitetura ou alterar plataformas.</p>

<p>Com a <a href="http://www.rackspace.com/pt/cloud/hybrid/">nuvem híbrida</a>, uma loja de comércio eletrônico pode ver a eficiência de nuvem para armazenamento em cache, imagem e vídeo armazenado, ou outros elementos que consomem muitos recursos e não são fundamentais, mantendo outros elementos – como processamento de pagamentos e outros elementos importantes para a segurança do site – na nuvem privada ou em dispositivos locais, a fim de atender a conformidade com o PCI e outros requisitos de segurança.</p>

<h3><strong>3. Faça um plano para ter sucesso no pico com a Rackspace</strong></h3>

<p>Quando a marca de estilo de vida <a href="http://www.alexandani.com/">Alex &amp; Ani</a> lançou uma propaganda para o Super Bowl 2014, a empresa sabia que o desempenho do site era fundamental. "Cada segundo custa dinheiro. Cada segundo adicionado ao processo resulta em uma redução de 7% na taxa de conversão, e isso só aumentará", disse Ryan Bonifacio, vice-presidente de estratégia digital da Alex &amp; Ani. A propaganda levou 28.000 pessoas ao site da Alex &amp; Ani, e qualquer demora no carregamento teria sido desastroso. Bonifacio procurou a Rackspace, pois precisava de um parceiro de hospedagem com a experiência necessária em desempenho. "Maximizar o tempo de funcionamento foi uma das nossas maiores exigências ao fazer diligência com provedores de hospedagem. A Rackspace recebeu a melhor avaliação", disse.</p>

<p>O <a href="http://www.rackspace.com/pt/ecommerce-hosting/">ambiente de hospedagem para comércio eletrônico da Rackspace</a> foi projetado para dar suporte a clientes com recursos que facilmente passam de pequenos a grandes volumes de tráfego. Podemos ajudá-lo com a tecnologia necessária para desenvolver, testar e programar seu site para gerenciar e otimizar os picos em vez de perder clientes.</p>

<p><a href="http://www.rackspace.com/ecommerce-hosting/"><img align="middle" alt="" height="396" src="https://8026b2e3760e2433679c-fffceaebb8c6ee053c935e8915a3fbe7.ssl.cf2.rackcdn.com/peakseaon-1.png" width="589" /></a></p>

<p>References:</p>

<p><sup>1</sup> <a href="https://www.internetretailer.com/2013/02/04/unwrapping-holidays">https://www.internetretailer.com/2013/02/04/unwrapping-holidays</a></p>
mento repentino de tráfico en lugar de perder clientes.</p>

<p>&nbsp;</p>

<p><a href="http://www.rackspace.com/ecommerce-hosting/"><img align="middle" alt="" height="396" src="https://8026b2e3760e2433679c-fffceaebb8c6ee053c935e8915a3fbe7.ssl.cf2.rackcdn.com/peakseaon-1.png" width="589" /></a></p>

<p>References:</p>

<p><sup>1</sup> <a href="https://www.internetretailer.com/2013/02/04/unwrapping-holidays">https://www.internetretailer.com/2013/02/04/unwrapping-holidays</a></p>
